(function(){var e,t,n=function(e,t){return function(){return e.apply(t,arguments)}};e=jQuery,t=function(){function t(t,r){this.show=n(this.show,this),this.tutorials_setup=n(this.tutorials_setup,this),this.modal_setup=n(this.modal_setup,this);var i;this.button=e(t),this.button.on("click",this.show),this.contents=function(){var e,t,n;n=[];for(e=0,t=r.length;e<t;e++)i=r[e],n.push(this.contents_config[i]);return n}.call(this),this.modal_setup(),this.tutorials_setup()}return t.prototype.question_tpl="        <article>            <h3><%= question %></h3>            <p><%= answer %></p>        </article>        ",t.prototype.tutorials_tpl="        <% for (var i = 0; i < contents.length; i++) { %>          <!--!--------- TUTORIAL ----------->          <% if (contents[i].type == 'tutorial') { %>            <ol id='joyride<%= i %>' class=''>              <% for (var j = 0; j < contents[i].slides.length; j++) { %>              <li data-id='<%= contents[i].slides[j].target_id %>' data-button='Next' data-options='<%= contents[i].slides[j].options %>'>                <h2><%= contents[i].slides[j].title %></h2>                <p><%= contents[i].slides[j].body %></p>              </li>              <% } %>            </ol>          <% } %>          <!--!------------------------------>        <% } %>        ",t.prototype.modal_tpl="        <div id='help_center' class='modal hide fade'>          <div class='modal-header'>            <button type='button' class='close' data-dismiss='modal'>Ã—</button>            <h2>Help Center</h2>          </div>          <section class='modal-body'>            <ul>              <% for (var i = 0; i < contents.length; i++) { %>              <li class='<%= contents[i].type %>'>                <!--!--------- QUESTION ----------->                <% if (contents[i].type == 'question') { %>                <article>                  <h3><%= contents[i].title %></h3>                  <p><%= contents[i].body %></p>                </article>                <% } %>                <!--!--------- TUTORIAL ----------->                <% if (contents[i].type == 'tutorial') { %>                  <article data-tutorial-id='<%= i %>'>                    <h3><%= contents[i].title %></h3>                    <p><%= contents[i].body %></p>                  </article>                <% } %>                <!--!------------------------------>              </li>              <% } %>            </ul>          </section>        </div>        ",t.prototype.modal_setup=function(){var t;return t=_.template(this.modal_tpl,{contents:this.contents}),this.$modal=e(t),this.$modal.modal({show:!1}),e("body").append(this.$modal)},t.prototype.tutorials_setup=function(){var t,n;return t=_.template(this.tutorials_tpl,{contents:this.contents}),this.$tutorials=e(t),e("body").append(this.$tutorials),n=this.$modal,e("li.tutorial",this.$modal).on("click",function(){var t;return n.modal("hide"),t=e("article",this).attr("data-tutorial-id"),console.log(e("#joyride"+t)),e("#joyride"+t).joyride({})})},t.prototype.show=function(){return this.$modal.modal("show")},t.prototype.contents_config={"maps:initial_tour":{type:"tutorial",title:"Initial Tour",body:"Take the tour.",slides:[{title:"MootiroMaps",body:"This is the logo.",target_id:"logo",options:"tipLocation:bottom"},{title:"End",body:"Feel free... stay around...",target_id:"",options:""}]},"organization:what_is":{type:"question",title:"What is an organization?",body:"An organization is ... (markdown string)"},"organization:page_tour":{type:"tutorial",title:"Organization page tour",body:"Take the tour of this page",slides:[{title:"Welcome to the tour!",body:"It's a pleasure to meet you.",target_id:"",options:""},{title:"MootiroMaps",body:"This is the MootiroMaps logo. You can click it anytime to get into website's homepage.",target_id:"logo",options:"tipLocation:bottom"},{title:"Map preview",body:"Here is the organization in the map.",target_id:"map-container-preview",options:"tipLocation:bottom"},{title:"Footer",body:"Can I <strong>bold this</strong>? <em>Yes</em>!",target_id:"footer",options:"tipLocation:top"},{title:"End",body:"Feel free... stay around...",target_id:"",options:""}]}},t}(),window.HelpCenter=t}).call(this);